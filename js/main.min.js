window.addEventListener("load",function(){return new Main});
var Main=function(){this.controller=new Controller;this.controller.mainMenu()},Model=function(c,d){this.btns=[];this.panolens=new MainPanolens;this.firstPersonControls=new MainFirstPersonControls;this.galleryThreeJs=new MainGalleryThreeJs;this.artGallery=new MainArtGallery;this.trexGame=new MainTRex;this.randomRectangles=new MainRandomRectangles;this.imagesTransition=new MainImageTransition},View=function(){this.canvas=document.createElement("canvas");this.canvas.width=document.body.clientWidth;this.canvas.height=
document.body.clientHeight;this.context=this.canvas.getContext("2d")},Controller=function(){this.view=new View;this.model=new Model(this.view.canvas,this.view.context)};Controller.prototype.mainMenu=function(){for(var c=[],d=["PANOLENS","THREE JS","CANVAS"],a=[this.panolens,this.threejs,this.canvas],b=0;3>b;b++){var e=this.mainMenuButtons(d[b],a[b]);c.push(e)}this.model.btns=c};
Controller.prototype.mainMenuButtons=function(c,d){var a=document.createElement("button");a.className="mainThemes";var b=document.createTextNode(c);a.appendChild(b);a.addEventListener("click",d.bind(this));document.body.appendChild(a);return a};Controller.prototype.removeButtons=function(){this.model.btns.forEach(function(c){document.body.removeChild(c)});this.model.btns=[]};
Controller.prototype.panolens=function(){this.removeButtons();this.addButtons(2,[{sectionName:"Panolens.","function":this.launchPanolens},{sectionName:"Retour au menu principal.","function":this.backToMainMenu}])};Controller.prototype.threejs=function(){this.removeButtons();this.addButtons(3,[{sectionName:"First Person Controls.","function":this.launchFirstPersonControls},{sectionName:"Gallerie avec Three Js","function":this.launchMainGalleryThreeJs},{sectionName:"Retour au menu principal.","function":this.backToMainMenu}])};
Controller.prototype.canvas=function(){this.removeButtons();this.addButtons(5,[{sectionName:"Galerie d'image.","function":this.launchImageGallery},{sectionName:"TRex Game.","function":this.launchTRexGame},{sectionName:"Rectangles al\u00e9atoires.","function":this.launchRandomRectangles},{sectionName:"Transition d'images.","function":this.launchImagesTransition},{sectionName:"Retour au menu principal.","function":this.backToMainMenu}])};
Controller.prototype.addButtons=function(c,d){for(var a=0;a<c;a++){var b=document.createElement("button");b.className="exercices";var e=document.createTextNode(d[a].sectionName);b.appendChild(e);this.model.btns.push(b);b.addEventListener("click",d[a]["function"].bind(this));document.body.appendChild(b)}};Controller.prototype.backToMainMenu=function(){this.removeButtons();this.mainMenu()};
Controller.prototype.backToExercicesMenu=function(c){this.removeButtons();this.model.firstPersonControls.stop();this.model.trexGame.stop();this.model.galleryThreeJs.stop();this.model.artGallery.stop();this.model.randomRectangles.clean();switch(c){case "panolens":this.panolens();break;case "threejs":this.threejs();break;case "canvas":this.canvas()}};
Controller.prototype.initLauchTools=function(c){var d=this;this.removeButtons();var a=document.createElement("button"),b=new Image;b.src="./assets/arrow_left.png";a.appendChild(b);this.model.btns.push(a);a.addEventListener("click",function(e){return d.backToExercicesMenu(c)});document.body.appendChild(a)};Controller.prototype.launchPanolens=function(){this.initLauchTools("panolens");this.model.panolens.start()};
Controller.prototype.launchFirstPersonControls=function(){this.initLauchTools("threejs");this.model.firstPersonControls.load()};Controller.prototype.launchMainGalleryThreeJs=function(){this.initLauchTools("threejs");this.model.galleryThreeJs.load()};Controller.prototype.launchImageGallery=function(){this.initLauchTools("canvas");this.model.artGallery.load()};Controller.prototype.launchTRexGame=function(){this.initLauchTools("canvas");this.model.trexGame.load()};
Controller.prototype.launchRandomRectangles=function(){this.initLauchTools("canvas");this.model.randomRectangles.draw()};Controller.prototype.launchImagesTransition=function(){this.initLauchTools("canvas");this.model.imagesTransition.load()};