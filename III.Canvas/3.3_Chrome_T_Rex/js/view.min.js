var View=function(){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.canvas.width=1E3;this.canvas.height=400};View.prototype.toDrawGround=function(a,b,c){this.context.drawImage(a.background.ground,b,0,this.canvas.width,a.background.ground.height,c,a.background.posY-20+a.TRex.sprites[0].height,this.canvas.width,a.background.ground.height)};
View.prototype.resetGround=function(a){var b=a.background.xToMoveGround+a.vitesse-a.background.ground.width;b=0>b?-20+a.background.posX-b:a.background.posX;this.toDrawGround(a,a.background.posX,b);a.background.xToMoveGround=b!=a.background.posX?a.background.xToMoveGround+a.vitesse:a.background.posX};
View.prototype.drawGround=function(a){this.toDrawGround(a,a.background.xToMoveGround,a.background.posX);a.background.xToMoveGround>=a.background.ground.width-this.canvas.width?this.resetGround(a):a.background.xToMoveGround+=a.vitesse};
View.prototype.drawCactusSet=function(a){for(var b=0;b<a.background.cactusSet.length;b++){var c=99>a.background.cactusSet[b].sprite.height?a.background.cactusSet[b].posY+30:a.background.cactusSet[b].posY;a.background.cactusSet[b].posX>=a.background.posX&&this.context.drawImage(a.background.cactusSet[b].sprite,a.background.cactusSet[b].posX,c);a.background.cactusSet[b].posX-=a.vitesse;a.background.cactusSet[b].posX<a.background.cactusSet[b].posX-2*this.canvas.width&&a.background.cactusSet.splice(b,
1)}};View.prototype.drawABird=function(a){var b=a.fly();this.context.drawImage(a.sprites[b],a.posX,a.posY+50)};View.prototype.drawBirds=function(a){for(var b=0;b<a.background.birds.length;b++)a.background.birds[b].posX>=a.background.posX&&this.drawABird(a.background.birds[b]),a.background.birds[b].posX-=a.vitesse+a.vitesse,a.background.birds[b].posX<a.background.birds[b].posX-2*this.canvas.width&&a.background.birds.splice(b,1)};
View.prototype.drawCloud=function(a){for(var b=0;b<a.background.clouds.length;b++)this.context.drawImage(a.background.clouds[b].sprite,a.background.clouds[b].posX,a.background.clouds[b].posY),a.background.clouds[b].posX-=a.vitesse,a.background.clouds[b].posX<a.background.clouds[b].posX-2*this.canvas.width&&a.background.clouds.splice(b,1)};
View.prototype.drawTRex=function(a){var b=!a.keepPlaying&&a.TRex.isDead?a.TRex.dead():a.TRex.down?a.TRex.duck():a.TRex.jump?a.TRex.stand():a.keepPlaying?a.TRex.walk():a.TRex.stand();a.TRex.down?this.context.drawImage(a.TRex.sprites[b],a.TRex.posX,a.TRex.posY+40):this.context.drawImage(a.TRex.sprites[b],a.TRex.posX,a.TRex.posY)};
View.prototype.drawScore=function(a){this.context.font="12px serif";this.context.fillText(a.score,this.canvas.width-100,100);a.bestScore&&this.context.fillText("HI "+a.bestScore,this.canvas.width-200,100)};View.prototype.draw=function(a){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.drawCloud(a);this.drawCactusSet(a);this.drawBirds(a);this.drawGround(a);this.drawTRex(a);this.drawScore(a)};